<ion-header>
  <ion-toolbar [color]="getStatusColor()">
    <ion-buttons slot="start">
      <ion-button>
        <ion-icon slot="icon-only" name="logo-rss"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      <ng-container *ngIf="connectionStatus == 'pendingSetup'">
        Device setup pending
      </ng-container>
      <ng-container *ngIf="connectionStatus == 'error'">
        Device connection failed
      </ng-container>
      <ng-container *ngIf="connectionStatus == 'connected'">
        Device connected
      </ng-container>
      <ng-container *ngIf="connectionStatus == 'connecting'">
        Connecting ...
      </ng-container>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="drawer.toggleState()">
        <ion-icon name="arrow-dropup-circle" [hidden]="isOpened"></ion-icon>
        <ion-icon name="arrow-dropdown-circle" [hidden]="!isOpened"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ng-container *ngIf="connectionStatus == 'connecting'">
    connecting...
  </ng-container>

  <ng-container *ngIf="connectionStatus == 'connected'">
    Success
  </ng-container>

  <ng-container *ngIf="connectionStatus == 'pendingSetup' || connectionStatus == 'updateSetup'">
    <ion-list lines="inset">
      <ion-item>
        <ion-label>
          <ion-text color="primary">
            <h2>SYNC YOUR DEVICE</h2>
          </ion-text>
          <p>Add your device ip in this field</p>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-input placeholder="192.168.0.1" #input></ion-input>
        <ion-fab-button (click)="onDeviceConnect(input.value)">
          <ion-icon name="flash"></ion-icon>
        </ion-fab-button>
      </ion-item>
    </ion-list>
  </ng-container>

  <ng-container *ngIf="connectionStatus == 'error'">
    Error connecting
  </ng-container>

  <ion-fab vertical="top" horizontal="end" slot="fixed" *ngIf="!(connectionStatus == 'pendingSetup' || connectionStatus == 'updateSetup')">
    <ion-fab-button (click)="onUpdateDeviceConnection()">
      <ion-icon name="create"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-fab vertical="top" horizontal="end" slot="fixed" *ngIf="!(connectionStatus == 'pendingSetup' || connectionStatus == 'updateSetup')">
    <ion-fab-button (click)="onRefresh()">
      <ion-icon name="refresh"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
